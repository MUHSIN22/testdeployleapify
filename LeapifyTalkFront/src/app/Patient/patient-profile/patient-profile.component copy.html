<div class="container pb-4">
    <!-- ============================================================================================ -->
    <div class="row p-1">
        <div class="col-md-4">
            <div class="row">
                <div class="col-md-12">
                    <div class="card card-shadow">
                        <h3 class="btn-0EA5C6 heading">Profile</h3>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-9">
                                    <p style="font-weight: bold; color: black !important;">{{loggedInUser.name}}</p>
                                    <p>Location : {{address}}</p>
                                    <p>Gender : {{gender}}</p>
                                    <!-- <button class="btn btn-0EA5C6 text-light rounded-pill" style="margin-top: 32px;"
                                        (click)="Book(book)">Book Appointment</button> -->
                                <!-- </div>
                                <div class="col-md-5"> -->
                                    <p>Email : {{loggedInUser.email}}</p>
                                    <p>Phone : {{mobile}}</p>
                                    <!-- <p>Client Id : {{id}}</p> -->
                                </div>
                                <div class="col-md-3">
                                    <!-- <img src="assets/userpic.png" class="w-75"> -->
                                    <img *ngIf="!imageUrl && image == null" src="assets/uploadimages/sample.png"
                                        class="w-100 rounded-pill">
                                    <img *ngIf="imageUrl" [src]="imageUrl" class="w-100 rounded-pill">
                                    <img *ngIf="image && !imageUrl" src="{{image}}" class="w-100 rounded-pill">
                                    <!-- <button class="btn btn-0EA5C6 text-light rounded-pill mt-2"
                                        (click)="openXl(edit)">Update Profile</button> -->
                                        <i class="fal fa-pencil fa-2x" title="Update Profile" (click)="openXl(edit)"></i>
                                        <i class="fal fa-book fa-2x mx-2" title="Book Appointment" (click)="Book(book)"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================ Update Profile Start ================================ -->
            <!-- https://ng-bootstrap.github.io/#/components/modal/examples -->

            <ng-template #edit let-modal let-c="close" let-d="dismiss">
                <form [formGroup]="updateuser" (ngSubmit)="UserUpdate(updateuser)">
                    <div class="card card-shadow">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-12 d-flex justify-content-end">
                                    <!-- <i class="fa fa-times fs-4 text-danger" (click)="d('Cross click')"></i> -->
                                    <i class="fa fa-times fs-4 text-danger" (click)="reload()"></i>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 d-flex justify-content-center">
                                    <h2>Edit User Profile</h2>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 d-flex justify-content-center">
                                    <p>Add Information About Yourself</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <img *ngIf="!imageUrl && image == null " src="assets/uploadimages/sample.png"
                                        class="img1 mt-5 rounded-pill">
                                    <img *ngIf="imageUrl" [src]="imageUrl" class="img1 mt-5 rounded-pill">
                                    <img *ngIf="image && !imageUrl" src="{{image}}" class="img1 mt-5 rounded-pill">
                                    <label for="file-upload"
                                        style="color: #0EA5C6; position: relative; right: 14%; top: 30%;">
                                        <i class="fas fa-pencil-alt fs-5" title="Select Image"></i>
                                    </label>
                                    <input id="file-upload" type="file" formControlName="Image" #Image accept="image/*"
                                        (change)="onFileSelected($event)" hidden>
                                </div>
                                <div class="col-md-9">
                                    <hr>
                                    <div class="form-group mb-4">
                                        <label for="Mobile">Mobile</label>
                                        <input type="text" class="form-control" id="Mobile" placeholder="Enter Mobile"
                                            formControlName="Mobile">
                                        <div class="row error-mt" *ngIf="updateuser.controls['Mobile'].invalid ">
                                            <span class="text-danger error-mt"
                                                *ngIf="updateuser.controls['Mobile'].hasError('required') && showErrormsg==true">*
                                                Please Enter Mobile Number *</span>
                                            <span class="text-danger error-mt"
                                                *ngIf="updateuser.controls['Mobile'].hasError('pattern') && showErrormsg==true">*
                                                Invalid Mobile *</span>
                                        </div>
                                    </div>
                                    <div class="form-group mb-4" *ngIf="gender == 'NA'">
                                        <label for="Gender">Gender</label>
                                        <div class="col-lg-9 radiobtn">
                                            <input class="input" type="radio" value="NA" id="notselected"
                                                formControlName="Gender" />
                                            <label class="lable" for="notselected">Not Selected</label>
                                            <input class="input" type="radio" value="Female" id="female"
                                                formControlName="Gender" />
                                            <label class="lable" for="female">Female</label>
                                            <input class="input" type="radio" value="Male" id="male"
                                                formControlName="Gender" />
                                            <label class="lable" for="male">Male</label>
                                            <input class="input" type="radio" value="Other" id="other"
                                                formControlName="Gender" />
                                            <label class="lable" for="other">Other</label>
                                            <div class="row error-mt" *ngIf="updateuser.controls['Gender'].invalid ">
                                                <span class="text-danger error-mt"
                                                    *ngIf="updateuser.controls['Gender'].hasError('required') && showErrormsg==true">*
                                                    Please Select Gender *</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group mb-4">
                                        <label for="Address">Address</label>
                                        <input type="text" class="form-control" id="Address" placeholder="Enter Mobile"
                                            formControlName="Address">
                                        <div class="row error-mt" *ngIf="updateuser.controls['Address'].invalid ">
                                            <span class="text-danger error-mt"
                                                *ngIf="updateuser.controls['Address'].hasError('required') && showErrormsg==true">*
                                                Please Enter Address *</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row justify-content-center">
                                        <div class="col-md-4">
                                            <button class="btn btn-0EA5C6" type="submit">Update</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </ng-template>
            <!-- ============================================ Update Profile End ===================================== -->
            <!-- ============================================ Book Appointment Start -================================ -->
            <ng-template #book let-modal let-c="close" let-d="dismiss">
                <div class="card card-shadow">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-end">
                                <!-- <i class="fa fa-times fs-4 text-danger" (click)="d('Cross click')"></i> -->
                                <i class="fa fa-times fs-4 text-danger" (click)="reload()"></i>
                            </div>
                        </div>
                        <div class="container-fluid">
                            <!-- ---------------------------------------------------------------------------- -->
                            <!-- <h1 class="mb-0">Book Appointment</h1> -->
                            <div class="row p-3" *ngFor="let data of DoctorFilterdata; let i=index;">
                                <div class="card card-shadow m-0 p-0"
                                    style="background-image: url(assets/pattern2.png); color:#fff">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-7 mt-5">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <img src="assets/user-pic1.png" height="100px" width="100px">
                                                        <button
                                                            class="btn btn-0EA5C6 text-light rounded-pill px-4 py-2 mt-4"
                                                            (click)="BookAppointment(content,data.email)">Book</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <!-- <span class="text-info">Name: </span>Dr.{{data.first_name}} {{data.last_name}}<br>
                                                            <span class="text-info">Qualification: </span>{{data.qualification}}<br>
                                                            <span class="text-info">Mobile: </span>{{data.mobile}}<br>
                                                            <span class="text-info">Email: </span>{{data.email}}<br>
                                                            <span class="text-info">Experience: </span>{{data.experience}} Years -->
                                                        Dr.{{data.first_name}} {{data.last_name}}
                                                        ({{data.qualification}})<br>
                                                        {{data.mobile}}<br>
                                                        {{data.email}}<br>
                                                        {{data.experience}} Years
                                                        <p>
                                                            <ngb-rating class="fs-5" style="color: #0EA5C6;"
                                                                [(rate)]="currentRate">
                                                            </ngb-rating>&nbsp;<b
                                                                style="color: #0EA5C6;">[{{currentRate}}]</b>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="col-md-4 mt-5">
                                                    <i class="fa fa-phone fs-4 mx-4"></i>Phone No. : {{data.mobile}}<br>
                                                    <i class="fa fa-envelope fs-4 mx-4"></i>Email : {{data.email}}<br>
                                                    <i class="fa fa-history fs-4 mx-4"></i>Experience : {{data.experience}} Years
                                                </div> -->
                                            <div class="col-md-5">
                                                <div class="navbar justify-content-center fs-5 m-0 p-0">
                                                    <ul class="">
                                                        <li *ngIf="!video" (click)="Onvideo()">Video</li>
                                                        <li *ngIf="video"
                                                            style="text-decoration: underline; text-decoration-color: orange; text-decoration-thickness: 3px; text-underline-offset: 5px;"
                                                            (click)="Onvideo()">Video</li>
                                                        <li *ngIf="!intro" (click)="Onintro()">Intro</li>
                                                        <li *ngIf="intro"
                                                            style="text-decoration: underline; text-decoration-color: orange; text-decoration-thickness: 3px; text-underline-offset: 5px;"
                                                            (click)="Onintro()">Intro</li>
                                                        <li *ngIf="!calendar" (click)="Oncalendar(data._id,data.email)">
                                                            Calendar</li>
                                                        <li *ngIf="calendar"
                                                            style="text-decoration: underline; text-decoration-color: orange; text-decoration-thickness: 3px; text-underline-offset: 5px;"
                                                            (click)="Oncalendar(data._id,data.email)">Calendar</li>
                                                    </ul>
                                                </div>
                                                <div class="card mt-1" style="height:204px; overflow-y: auto;">
                                                    <div class="card-body m-0 p-0">
                                                        <div *ngIf="video">
                                                            <iframe width=100% height=200px
                                                                src="https://www.youtube.com/embed/DBdnYisvbok" start
                                                                title="YouTube video player" frameborder="0"
                                                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                                                allowfullscreen></iframe>
                                                        </div>
                                                        <div *ngIf="intro"
                                                            style="background-image: url(assets/intro-background.jpg); height: 200px;">
                                                            <div class="col-md-9">
                                                                <p class="fs-6 p-3 text-dark">{{data.aboutMe}}</p>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="calendar">
                                                            <div class=""
                                                                style="width:100%; font-size: 13px; color: black;">
                                                                <table class="table">
                                                                    <thead>
                                                                        <tr>
                                                                            <th scope="col">Day</th>
                                                                            <th scope="col" class="table-info">
                                                                                {{CurrentDay}}</th>
                                                                            <th scope="col">{{WeekDay[1]}}</th>
                                                                            <th scope="col">{{WeekDay[2]}}</th>
                                                                            <th scope="col">{{WeekDay[3]}}</th>
                                                                            <th scope="col">{{WeekDay[4]}}</th>
                                                                            <th scope="col">{{WeekDay[5]}}</th>
                                                                            <th scope="col">{{WeekDay[6]}}</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                            <th scope="row">Time/</th>
                                                                            <!-- <th class="table-info">{{CurrentDate}}</th> -->
                                                                            <th *ngFor="let date of WeekDate;">{{date}}
                                                                            </th>
                                                                            <!-- <th>{{WeekDate[1]}}</th>
                                                                                <th>{{WeekDate[2]}}</th>
                                                                                <th>{{WeekDate[3]}}</th>
                                                                                <th>{{WeekDate[4]}}</th>
                                                                                <th>{{WeekDate[5]}}</th>
                                                                                <th>{{WeekDate[6]}}</th> -->
                                                                        </tr>
                                                                        <tr *ngFor="let data of Sunday;">
                                                                            <th scope="row">
                                                                                {{data.name.slice(0,2)}}-{{data.name.slice(8,10)}}
                                                                            </th>
                                                                            <td *ngFor="let week of WeekDay;">
                                                                                <div *ngFor="let sun of Sunjson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sun' && sun.status == '0' && sun.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sun' && sun.status == '1' && sun.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sun' && sun.status == '2' && sun.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let mon of Monjson;">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Mon' && mon.status == '0' && mon.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Mon' && mon.status == '1' && mon.id == data.id  "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Mon' && mon.status == '2' && mon.id == data.id  "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let tue of Tuejson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Tue' && tue.status == '0' && tue.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Tue' && tue.status == '1' && tue.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Tue' && tue.status == '2' && tue.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let wed of Wedjson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Wed' && wed.status == '0' && wed.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Wed' && wed.status == '1' && wed.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Wed' && wed.status == '2' && wed.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let thu of Thujson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Thu' && thu.status == '0' && thu.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Thu' && thu.status == '1' && thu.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Thu' && thu.status == '2' && thu.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let fri of Frijson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Fri' && fri.status == '0' && fri.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Fri' && fri.status == '1' && fri.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Fri' && fri.status == '2' && fri.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                                <div *ngFor="let sat of Satjson">
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sat' && sat.status == '0' && sat.id == data.id "
                                                                                        class="d-flex justify-content-center bg-secondary text-light rounded-pill">U</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sat' && sat.status == '1' && sat.id == data.id "
                                                                                        class="d-flex justify-content-center bg-info text-light rounded-pill">A</span>
                                                                                    <span
                                                                                        *ngIf="week.slice(0,3) == 'Sat' && sat.status == '2' && sat.id == data.id "
                                                                                        class="d-flex justify-content-center bg-warning text-light rounded-pill">B</span>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ---------------------------------------------------------------------------- -->
                            <!-- ============================================ Book Appointment Start ================================ -->
                            <!-- https://ng-bootstrap.github.io/#/components/modal/examples -->

                            <ng-template #content let-modal let-c="close" let-d="dismiss">
                                <form>
                                    <div class="card card-shadow">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-12 d-flex justify-content-end">
                                                    <!-- <i class="fa fa-times fs-4 text-danger" (click)="d('Cross click')"></i> -->
                                                    <i class="fa fa-times fs-4 text-danger" (click)="reload()"></i>
                                                </div>
                                            </div>
                                            <!-- <fieldset> -->
                                            <div *ngIf="cho">
                                                <h6 class="btn-0EA5C6 p-2 fs-5">Select Your Appointment Type</h6>
                                                <div class="row px-5 p-0 m-0">
                                                    <div *ngIf="ta_value" class="row btn-fefefe rounded my-2 p-2"
                                                        (click)="Trial(priceT)">
                                                        <div class="col-md-10">
                                                            <b>60 minute trial Appointment</b> <br> -- <br> Free Trial
                                                        </div>
                                                        <div class="col-md-2 d-flex justify-content-end">
                                                            <b>$ {{priceT}}.00</b>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="v_value" class="row btn-fefefe rounded my-2 p-2"
                                                        (click)="Price_v()">
                                                        <div class="col-md-10">
                                                            <b>Leapifyconnect-video Appointment</b> <br> -- <br> HIPPA
                                                            COMPLIANT
                                                        </div>
                                                        <div class="col-md-2 d-flex justify-content-end">
                                                            <b>$ {{Price.v_price}}.00</b>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="vr_value" class="row btn-fefefe rounded my-2 p-2"
                                                        (click)="Price_vr()">
                                                        <div class="col-md-10">
                                                            <b>LeapifyVR</b> <br> -- <br> (Virtual Reality) Appointment
                                                        </div>
                                                        <div class="col-md-2 d-flex justify-content-end">
                                                            <b>$ {{Price.vr_price}}.00</b>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="txt_value == true "
                                                        class="row btn-fefefe rounded my-2 p-2" (click)="Price_txt()">
                                                        <div class="col-md-10">
                                                            <b>Leapify Chat</b> <br> -- <br> One to One Secure Chat With
                                                            Your Doctor
                                                        </div>
                                                        <div class="col-md-2 d-flex justify-content-end">
                                                            <b>$ {{Price.txt_price}}.00</b>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- </fieldset> -->
                                            <!-- <fieldset> -->
                                            <div *ngIf="appoint">
                                                <h6 class="btn-0EA5C6 p-2 fs-5">Appointment options</h6>
                                                <div class="row m-0">
                                                    <p class="text-light fs-5 d-flex justify-content-center"
                                                        style="background-image: url(assets/pattern2.png);">
                                                        <b>Appointments rules</b><br>
                                                        1. Appointments must be scheduled in advance.<br>
                                                        2. Date and time for at least ONE Appointment should be selected
                                                        to purchase a
                                                        Package.<br>
                                                        3. Appointments must be scheduled within six months of purchase
                                                        date.
                                                    </p>
                                                    <div *ngIf="appoint_v">
                                                        <h4>Video Appointment</h4>
                                                        <div class="row">
                                                            <div class="col-md-4 p-5 pt-0 pb-1"
                                                                (click)="v_cal(Price.v_price, Price.v_bundle = 1)">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <div class="col-5 d-flex justify-content-center">
                                                                        Appointment
                                                                    </div>
                                                                    <div class="col-7 d-flex justify-content-center">
                                                                        $&nbsp;{{Price.v_price}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-5 p-5 pt-0 pb-1"
                                                                (click)="v_cal((Price.v_price*Price.v_bundle)-(Price.v_price*Price.v_bundle)*(Price.v_discount/100), Price.v_bundle)">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <div class="col-6 d-flex justify-content-center">
                                                                        {{Price.v_bundle}} Appointment
                                                                    </div>
                                                                    <div class="col-6 d-flex justify-content-center">
                                                                        <span
                                                                            class="text-decoration-line-through">$&nbsp;{{Price.v_price*Price.v_bundle}}&nbsp;</span>&nbsp;
                                                                        $&nbsp;{{(Price.v_price*Price.v_bundle)-(Price.v_price*Price.v_bundle)*(Price.v_discount/100)}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-3 p-5 pt-0 pb-1">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <!-- <div class="col-6 d-flex justify-content-center">
                                                                            Discount
                                                                        </div> -->
                                                                    <div class="col-12 d-flex justify-content-center">
                                                                        <b><span
                                                                                class="btn-0EA5C6 rounded-pill p-2 dis-ami">SAVE
                                                                                {{Price.v_discount}}%</span></b>
                                                                        <!-- {{Price.v_discount}}% -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div *ngIf="appoint_vr">
                                                        <h4>VR(Virtual Reality)</h4>
                                                        <div class="row">
                                                            <div class="col-md-4 p-5 pt-0 pb-1"
                                                                (click)="vr_cal(Price.vr_price, Price.vr_bundle = 1)">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <div class="col-5 d-flex justify-content-center">
                                                                        Appointment
                                                                    </div>
                                                                    <div class="col-7 d-flex justify-content-center">
                                                                        $&nbsp;{{Price.vr_price}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-5 p-5 pt-0 pb-1"
                                                                (click)="vr_cal((Price.vr_price*Price.vr_bundle)-(Price.vr_price*Price.vr_bundle)*(Price.vr_discount/100), Price.vr_bundle)">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <div class="col-6 d-flex justify-content-center">
                                                                        {{Price.vr_bundle}} Appointment
                                                                    </div>
                                                                    <div class="col-6 d-flex justify-content-center">
                                                                        <span
                                                                            class="text-decoration-line-through">$&nbsp;{{Price.vr_price*Price.vr_bundle}}&nbsp;</span>&nbsp;
                                                                        $&nbsp;{{(Price.vr_price*Price.vr_bundle)-(Price.vr_price*Price.vr_bundle)*(Price.vr_discount/100)}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-3 p-5 pt-0 pb-1">
                                                                <div
                                                                    class="row border border-info rounded-pill my-2 p-3">
                                                                    <!-- <div class="col-6 d-flex justify-content-center">
                                                                        Discount
                                                                    </div> -->
                                                                    <div class="col-12 d-flex justify-content-center">
                                                                        <b><span
                                                                                class="btn-0EA5C6 rounded-pill p-2 dis-ami">SAVE
                                                                                {{Price.vr_discount}}%</span></b>
                                                                        <!-- {{Price.v_discount}}% -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <!-- </fieldset> -->
                                            <!-- <fieldset> -->
                                            <div *ngIf="cal">
                                                <h6 class="btn-0EA5C6 p-2 fs-5">Schedule your Appointments</h6>
                                                <span class="d-flex justify-content-center p-2">
                                                    <b>
                                                        <i class="fas fa-square fs-5"></i> &nbsp; : &nbsp; Available
                                                        &nbsp; &nbsp;
                                                        <i class="far fa-square fs-5"></i> &nbsp; : &nbsp; Unvailable
                                                        &nbsp; &nbsp;
                                                        <i class="fas fa-square text-success fs-5"></i> &nbsp; : &nbsp;
                                                        Booked &nbsp; &nbsp;
                                                    </b>
                                                </span>
                                                <div class="" style="width:100%; color: black;">
                                                    <table class="table">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col">Day</th>
                                                                <th scope="col" class="table-info">{{CurrentDay}}</th>
                                                                <!-- <th scope="col" *ngFor="let day of WeekDay; let i=index;">{{day}}</th> -->
                                                                <th scope="col">{{WeekDay[1]}}</th>
                                                                <th scope="col">{{WeekDay[2]}}</th>
                                                                <th scope="col">{{WeekDay[3]}}</th>
                                                                <th scope="col">{{WeekDay[4]}}</th>
                                                                <th scope="col">{{WeekDay[5]}}</th>
                                                                <th scope="col">{{WeekDay[6]}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <th scope="row">Time/Date</th>
                                                                <th *ngFor="let date of WeekDate;">{{date}}</th>
                                                            </tr>
                                                            <tr *ngFor="let data of Sunday;">
                                                                <th scope="row">{{data.name}}</th>
                                                                <td *ngFor="let week of WeekData;">
                                                                    <div *ngFor="let sun of Sunjson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sun' && sun.status == '0' && sun.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sun' && sun.status == '1' && sun.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(sun.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sun' && sun.status == '2' && sun.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let mon of Monjson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Mon' && mon.status == '0' && mon.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <!-- <td>{{week}}</td> -->
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Mon' && mon.status == '1' && mon.id == data.id  "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(mon.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Mon' && mon.status == '2' && mon.id == data.id  "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let tue of Tuejson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Tue' && tue.status == '0' && tue.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Tue' && tue.status == '1' && tue.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(tue.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Tue' && tue.status == '2' && tue.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let wed of Wedjson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Wed' && wed.status == '0' && wed.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Wed' && wed.status == '1' && wed.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(wed.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Wed' && wed.status == '2' && wed.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let thu of Thujson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Thu' && thu.status == '0' && thu.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Thu' && thu.status == '1' && thu.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(thu.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Thu' && thu.status == '2' && thu.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let fri of Frijson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Fri' && fri.status == '0' && fri.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Fri' && fri.status == '1' && fri.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(fri.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Fri' && fri.status == '2' && fri.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                    <div *ngFor="let sat of Satjson;">
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sat' && sat.status == '0' && sat.id == data.id "
                                                                            class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sat' && sat.status == '1' && sat.id == data.id "
                                                                            class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                            (click)="selectedata(sat.name,CurrentDate,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                        <span
                                                                            *ngIf="week.slice(0,3) == 'Sat' && sat.status == '2' && sat.id == data.id "
                                                                            class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                            <!-- </fieldset> -->
                                            <!-- <fieldset> -->
                                            <div *ngIf="comm">
                                                <h6 class="btn-0EA5C6 p-2 fs-5">Communication Tool</h6>
                                                <div class="row p-5 m-0">
                                                    <p>These are the communication tools your teacher uses. Please
                                                        choose your preferred
                                                        communication tool.</p> <br>
                                                    <div class="row m-0 p-0" *ngFor="let comm of DoctorFilterdata;">
                                                        <div *ngIf="PriceData.g_value == 'true' " class="col-md-4">
                                                            <div class="row">
                                                                <div
                                                                    class="col-md-12 d-flex justify-content-center mb-4">
                                                                    <img src="assets/google-meet.svg" class="w-50 m-3">
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12 d-flex justify-content-center">
                                                                    <button class="btn btn-fefefe"
                                                                        (click)="commdata(comm.email,comm.googlemeetlink,comm.first_name,comm.last_name)">GoogleMeet</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="PriceData.z_value == 'true' " class="col-md-4">
                                                            <div class="row">
                                                                <div
                                                                    class="col-md-12 d-flex justify-content-center mb-4">
                                                                    <img src="assets/zoom.svg" class="w-50">
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12 d-flex justify-content-center">
                                                                    <button class="btn btn-fefefe"
                                                                        (click)="commdata(comm.email,comm.zoomlink,comm.first_name,comm.last_name)">Zoom</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="PriceData.s_value == 'true' " class="col-md-4">
                                                            <div class="row">
                                                                <div
                                                                    class="col-md-12 d-flex justify-content-center mb-4">
                                                                    <img src="assets/skype.svg" class="w-50">
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-12 d-flex justify-content-center">
                                                                    <button class="btn btn-fefefe"
                                                                        (click)="commdata(comm.email,comm.skypelink,comm.first_name,comm.last_name)">Skype</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p class="mt-4">italki Classroom is italki's own integrated
                                                        communication tool. It works on the latest
                                                        versions of Google Chrome, Mozilla Firefox, and Safari.<br>

                                                        For a better in-class experience, please enter italki Classroom
                                                        to check the
                                                        connectivity prior to your lesson start time.</p>
                                                </div>
                                            </div>
                                            <!-- </fieldset> -->
                                            <!-- <fieldset> -->
                                            <div *ngIf="pay">
                                                <h6 class="btn-0EA5C6 p-2 fs-5">Payment</h6>
                                                <div class="row p-5 m-0">
                                                    <div class="row">
                                                        <div class="col-md-8">
                                                            <div class="card">
                                                                <div class="row card-body">
                                                                    <div class="col-md-1 border p-2">
                                                                        <input type="checkbox">
                                                                    </div>
                                                                    <div class="col-md-11">
                                                                        Balance / <b>$ {{BookingData.Price}}.00 USD</b>
                                                                        <br>
                                                                        your italki Balance will be automatically
                                                                        deducted
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-6">Promo Code</div>
                                                                        <div class="col-md-6">
                                                                            <input type="text"
                                                                                placeholder="Please enter your code">
                                                                            REDEEM
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col">Coupon</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="card">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-3"><b>Payment Methods</b>
                                                                        </div>
                                                                        <div
                                                                            class="col-md-4 d-flex justify-content-end">
                                                                            Billing Country/Region
                                                                        </div>
                                                                        <div class="col-md-5">
                                                                            <select style="width: 200px;">
                                                                                <option value="">India</option>
                                                                                <option value="">India</option>
                                                                                <option value="">India</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <i class="far fa-credit-card"></i>&nbsp;
                                                                            Debit / credit card
                                                                        </div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            <i
                                                                                class="fas fa-plus-circle mt-1"></i>&nbsp;
                                                                            <b>ADD A NEW CARD</b>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <i class="fab fa-cc-paypal"></i>&nbsp;
                                                                            PayPal
                                                                        </div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            <input type="checkbox">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <i class="far fa-credit-card"></i>&nbsp;
                                                                            Skrill eWallet
                                                                        </div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            <input type="checkbox">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr>
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-6">
                                                                            <i class="far fa-credit-card"></i>&nbsp;
                                                                            Bank Transfer
                                                                        </div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            <input type="checkbox">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- right side start -->
                                                        <div class="col-md-4">
                                                            <div class="card p-2">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-md-4">
                                                                            <img *ngIf="!imageUrl && image == null"
                                                                                src="assets/uploadimages/sample.png"
                                                                                style="height: 80px; border: 1px solid; padding: 5px; border-radius: 50%;">
                                                                            <img *ngIf="image && !imageUrl"
                                                                                src="{{image}}"
                                                                                class="w-100 rounded-pill">
                                                                        </div>
                                                                        <div class="col-md-8">
                                                                            <b>{{loggedInUser.name}}</b><br>
                                                                            Beginner Spoken English<br>
                                                                            See the details
                                                                        </div>
                                                                    </div>
                                                                    <hr>
                                                                    <div class="row">
                                                                        <div class="col-md-6">Sub-total</div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            $ {{BookingData.Price}}.00 USD</div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-6">Processing fee</div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end">
                                                                            $ 0.00 USD</div>
                                                                    </div>
                                                                    <hr>
                                                                    <div class="row">
                                                                        <div class="col-md-6">Total</div>
                                                                        <div
                                                                            class="col-md-6 d-flex justify-content-end mb-2">
                                                                            $ {{BookingData.Price}}.00 USD<br>
                                                                            <!-- Estimated INR 1,423.64 -->
                                                                        </div>
                                                                        <button type="button"
                                                                            class="btn btn-0EA5C6 my-2"
                                                                            (click)="payment()">PAY</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="">
                                                                <div class="">
                                                                    <font style="font-size: 10px;">
                                                                        <i class="fas fa-circle"></i>&nbsp;
                                                                        All currency conversions are estimates and may
                                                                        vary.<br>
                                                                        <i class="fas fa-circle"></i>&nbsp;
                                                                        Your final payment will be made in USD.<br>
                                                                        <i class="fas fa-circle"></i>&nbsp;
                                                                        Purchases can only be refunded for italki
                                                                        Credits that are directly
                                                                        transferred to your italki student Wallet. Cash
                                                                        refund not
                                                                        supported.<br>
                                                                    </font>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- right side end -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- </fieldset> -->
                                            <div class="col-md-12 d-flex justify-content-end">
                                                <!-- <button type="button" class="btn btn-0EA5C6 rounded-pill mx-3" id="previous-step"
                                                        disabled="disabled">&#171; Previous</button>
                                                    <button type="button" class="btn btn-0EA5C6 rounded-pill" id="next-step">Next &#187;</button>
                                                    <button type="submit" class="btn btn-0EA5C6 rounded-pill" id="finish-step">Finish
                                                        &#8629;</button> -->
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </ng-template>
                            <!-- ============================================ Book Appointment End ===================================== -->
                        </div>
                    </div>
                </div>
                <!-- </form> -->
            </ng-template>
            <!-- ============================================ Book Appointment End ==================================== -->
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card card-shadow">
                        <h3 class="btn-0EA5C6 heading">Progress Notes</h3>
                        <div class="card-body">
                            <!-- <h4 class="btn-0EA5C6 heading">Progress Notes</h4> -->
                            <p class="text-muted">
                                Anim pariatur cliche reprehenderit,
                                enim eiusmod high life accusamus terry richardson ad squid.
                            </p>
                            <div class="row" style="height: 260px; overflow-y: auto;">
                                <div class="" id="show1">
                                    <div class="col-md-12 mb-2" *ngFor="let note of bookingdata; let i=index;">
                                        <div class="card-header btn-fefefe" *ngIf="note.Note" (click)="headingOne()">
                                            <h5 class="my-0">
                                                <i class="fa fa-arrow-circle-down fs-4"></i>
                                                {{note.SelectDate}}
                                            </h5>
                                        </div>
                                        <div class="data1" *ngIf="note.Note">
                                            <div class="card-body btn-0EA5C6 fs-5">
                                                {{note.Note}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                               
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card card-shadow w-100">
                <h3 class="btn-0EA5C6 heading">Upcoming Appointments</h3>
                <div class="card-body">
                    <!-- <h4 class="btn-0EA5C6 heading">Upcoming Appointments</h4> -->
                    <div class="w-100" style="height: 272px; overflow-y: auto;">
                        <table class="table table-striped">
                            <thead style="color:#667085">
                                <tr style="text-align: center;">
                                    <th scope="col" width="6%">Id</th>
                                    <th scope="col">Doctor</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Slot</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let book of bookingdata; let i=index;">
                                    <th *ngIf="book.Status == '1' " scope="row">{{i+1}}</th>
                                    <td *ngIf="book.Status == '1' ">{{book.D_name}}</td>
                                    <td *ngIf="book.Status == '1' ">{{book.SelectDate}}</td>
                                    <td *ngIf="book.Status == '1' ">{{book.Slot}}</td>
                                    <td *ngIf="book.Status == '1' ">
                                        <a href="{{book.MeetLink}}" target="_blank">
                                            <i class="fal fa-phone mx-2" title="Join"
                                                (click)="AppJoin(book._id,book.MeetLink)"></i>
                                        </a>
                                        <i class="fal fa-phone-slash text-danger mx-2" title="Cancel"
                                            (click)="AppCancel(book._id)"></i>
                                        <i *ngIf="book.Price != '0' " class="fal fa-repeat text-warning mx-2"
                                            title="Reschedule" (click)="AppReschedule(app,book.D_email,book._id)"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>
            </div>
            <div class="card  card-shadow w-100 mt-4">
                <h3 class="btn-0EA5C6 heading">Appointment History</h3>
                <div class="card-body">
                    <!-- <h4 class="btn-0EA5C6 p-1 mt-4">Appointment History</h4> -->
                    <div class="mt-2" style="height: 272px; overflow-y: auto;">
                        <table class="table table-striped">
                            <thead style="color:#667085">
                                <tr style="text-align: center;">
                                    <th scope="col" width="6%">Id</th>
                                    <th scope="col">Doctor</th>
                                    <th scope="col">Date</th>
                                    <th scope="col">Slot</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Feedback</th>
                                </tr>
                            </thead>
                            <tbody class="text-center">
                                <tr *ngFor="let book of bookingdata; let i=index;">
                                    <th *ngIf="book.Status != '1' " scope="row">{{i+1}}</th>
                                    <td *ngIf="book.Status != '1' ">{{book.D_name}}</td>
                                    <td *ngIf="book.Status != '1' ">{{book.SelectDate}}</td>
                                    <td *ngIf="book.Status != '1' ">{{book.Slot}}</td>
                                    <td *ngIf="book.Status == '0' ">
                                        <i class="fal fa-phone-slash text-danger mx-2" title="Canceled"></i>
                                        <!-- <button class="btn btn-0EA5C6">Cancel</button> -->
                                    </td>
                                    <td *ngIf="book.Status == '2' ">
                                        <i class="fal fa-repeat text-warning mx-2" title="Rescheduled"></i>
                                    </td>
                                    <td *ngIf="book.Status == '3' ">
                                        <i class="fal fa-phone mx-2" title="Success"></i>
                                    </td>
                                    <td *ngIf="book.Status == '0' || book.Status == '2' ">
                                        <i class="mx-2" title="Feedback">--</i>
                                    </td>
                                    <td *ngIf="book.Status == '3' ">
                                        <i class="fal fa-comment mx-2" title="Feedback" (click)="AppFeedback(feedback,book.D_email,book.P_email,book.D_name,book.P_name)"></i>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                         <!-- ============================================================================================== -->
                         <ng-template #feedback let-modal let-c="close" let-d="dismiss">
                            <div class="card card-shadow">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 d-flex justify-content-end">
                                            <!-- <i class="fa fa-times fs-4 text-danger" (click)="d('Cross click')"></i> -->
                                            <i class="fa fa-times fs-4 text-danger" (click)="reload()"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <!-- ----------------------- Feedback Form Start ----------------------------------- -->
                                        <h1>Feedback Form</h1>
                                        <div class="container mb-5 d-flex justify-content-center">
                                            <div class="card card-shadow">
                                                <div class="card-body">
                                                <form [formGroup]="rating" (ngSubmit)="Rating(rating)">
                                                    <div class="p-4 justify-content-center">
                                                        <h4 class="mt-0 mb-4">Your Doctor: <span class="value">{{FeedbackData.D_name}}</span></h4>
                                                        <div class="form-group">
                                                            <h5 class="mt-0 mb-4">How would you rate your doctor?</h5>
                                                            <div class="form-group">
                                                            <ngb-rating class="fs-5" style="color: #0EA5C6;" [max]="5" [(rate)]="currentRating" [readonly]="false"></ngb-rating>
                                                            &nbsp;<b class="fs-5" style="color: #0EA5C6;" >({{currentRating}})</b>
                                                            <input type="text" formControlName="Rate" value="{{currentRating}}" [ngModel]="currentRating" hidden>
                                                            </div>
                                                        </div>
                                                        <div class="form-group shadow-textarea">
                                                            <h5 for="exampleFormControlTextarea6">Is there anything else you'd like to share about your experience with the doctor?</h5>
                                                            <textarea id="feedbck" class="form-control z-depth-1" rows="6" placeholder="Write your experience here..." maxlength="500" formControlName="Message"></textarea>
                                                            <span>(<span id="chars">500</span> characters remaining)</span>
                                                        </div>
                                                        <button type="submit" class="btn btn-fefefe">Submit</button>
                                                    </div>
                                                    </form>
                                                    <!-- {{this.rating.value.Rate}} | json; -->
                                                    <!-- {{this.rating.value.Message}} | json; -->
                                                </div>
                                            </div>
                                        </div>
                                        <!-- ----------------------- Feedback Form End ------------------------------------- -->
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                        <!-- ============================================================================================== -->
                        <!-- ============================================================================================== -->
                        <ng-template #app let-modal let-c="close" let-d="dismiss">
                            <div class="card card-shadow">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 d-flex justify-content-end">
                                            <!-- <i class="fa fa-times fs-4 text-danger" (click)="d('Cross click')"></i> -->
                                            <i class="fa fa-times fs-4 text-danger" (click)="reload()"></i>
                                        </div>
                                    </div>
                                    <div *ngIf="Recal">
                                        <h6 class="btn-0EA5C6 p-2 fs-5">Reschedule your Appointments</h6>
                                        <span class="d-flex justify-content-center p-2">
                                            <b>
                                                <i class="fas fa-square fs-5"></i> &nbsp; : &nbsp; Available &nbsp;
                                                &nbsp;
                                                <i class="far fa-square fs-5"></i> &nbsp; : &nbsp; Unvailable &nbsp;
                                                &nbsp;
                                                <i class="fas fa-square text-success fs-5"></i> &nbsp; : &nbsp; Booked
                                                &nbsp; &nbsp;
                                            </b>
                                        </span>
                                        <div class="" style="width:100%; color: black;">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">Day</th>
                                                        <th scope="col" class="table-info">{{CurrentDay}}</th>
                                                        <!-- <th scope="col" *ngFor="let day of WeekDay; let i=index;">{{day}}</th> -->
                                                        <th scope="col">{{WeekDay[1]}}</th>
                                                        <th scope="col">{{WeekDay[2]}}</th>
                                                        <th scope="col">{{WeekDay[3]}}</th>
                                                        <th scope="col">{{WeekDay[4]}}</th>
                                                        <th scope="col">{{WeekDay[5]}}</th>
                                                        <th scope="col">{{WeekDay[6]}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th scope="row">Time/Date</th>
                                                        <th *ngFor="let date of WeekDate;">{{date}}</th>
                                                    </tr>
                                                    <tr *ngFor="let data of Sunday;">
                                                        <th scope="row">{{data.name}}</th>
                                                        <td *ngFor="let week of WeekData;">
                                                            <div *ngFor="let sun of Sunjson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sun' && sun.status == '0' && sun.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sun' && sun.status == '1' && sun.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(sun.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sun' && sun.status == '2' && sun.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let mon of Monjson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Mon' && mon.status == '0' && mon.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <!-- <td>{{week}}</td> -->
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Mon' && mon.status == '1' && mon.id == data.id  "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(mon.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Mon' && mon.status == '2' && mon.id == data.id  "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let tue of Tuejson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Tue' && tue.status == '0' && tue.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Tue' && tue.status == '1' && tue.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(tue.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Tue' && tue.status == '2' && tue.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let wed of Wedjson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Wed' && wed.status == '0' && wed.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Wed' && wed.status == '1' && wed.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(wed.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Wed' && wed.status == '2' && wed.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let thu of Thujson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Thu' && thu.status == '0' && thu.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Thu' && thu.status == '1' && thu.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(thu.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Thu' && thu.status == '2' && thu.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let fri of Frijson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Fri' && fri.status == '0' && fri.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Fri' && fri.status == '1' && fri.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(fri.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Fri' && fri.status == '2' && fri.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                            <div *ngFor="let sat of Satjson;">
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sat' && sat.status == '0' && sat.id == data.id "
                                                                    class="d-flex justify-content-center bg-secondary text-light rounded-pill">Unavilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sat' && sat.status == '1' && sat.id == data.id "
                                                                    class="d-flex justify-content-center bg-info text-light rounded-pill"
                                                                    (click)="ReSelectdata(sat.name,week.slice(3,14),week.slice(0,3))">Avilable</span>
                                                                <span
                                                                    *ngIf="week.slice(0,3) == 'Sat' && sat.status == '2' && sat.id == data.id "
                                                                    class="d-flex justify-content-center bg-warning text-light rounded-pill">Booked</span>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                        <!-- ============================================================================================== -->
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-4 mx-1">
            <div class="card card-shadow">
                <div class="card-body">
                    <div class="row btn-0EA5C6 p-1">
                        <div class="col-md-6">
                            <h4>File History</h4>
                        </div>
                        <div class="col-md-6">
                            <label class="fs-5">Add New File : &nbsp;</label>
                            <input type="file" class="">
                            <button class="btn btn-fefefe rounded-pill">Upload</button>
                        </div>
                    </div>
                    <table class="table table-striped">
                        <thead style="color:#667085">
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Doctor</th>
                                <th scope="col">File Name</th>
                                <th scope="col">Date</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody *ngFor="let data of bookingdata; let i=index;">
                            <tr *ngIf="data.File">
                                <th scope="row">{{i+1}}</th>
                                <td>{{data.D_name}}</td>
                                <td><a href="{{data.File}}" style="text-decoration: none;">Report File</a></td>
                                <td>{{data.SelectDate}}</td>
                                <td><i class="fa fa-trash text-danger"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- ============================================================================================ -->
</div>